<div class="jp-user-list">
	<div class="input-group">
		<input type="text" ng-model="asyncSelectedUser" placeholder="Search for people, friends..." ng-change="updateUsers(asyncSelectedUser)" class="form-control">
		<div class="input-group-addon">
			<a href="" ng-click="clear(asyncSelectedUser)">
				<i ng-show="!asyncSelectedUser" class="glyphicon glyphicon-search"></i>
				<i ng-show="asyncSelectedUser" class="glyphicon glyphicon-remove"></i>
			</a>
		</div>
	</div>  
	<ul class="list-group">
	  <li class="list-group-item" ng-repeat="user in users | filter:{first_name:asyncSelectedUser} | startFrom: (currentPage-1)*pl | limitTo: pl">
      <div class="media comment">
			  <a class="pull-left" ui-sref="main.profile({username:user.username})">
			    <img class="media-object" src="app/img/jack-yiu-dp.jpg" alt="dp" width="50px">
			  </a>
			  <div class="media-body">
		  		<a class="media-name" ui-sref="main.profile({username:user.username})">
		  		<h5 class="media-heading">{{user.first_name}}</h5></a>
				  	
				  <div class="user-action-box">
					  <button 
					  ng-show="user.areFriends == friend_statuses.not_friends" 
					  ng-click="sendFriendRequest(user.id)"
					  class="btn btn-sm btn-default">
					  <i class="glyphicon glyphicon-plus"></i><span class="hidden">a</span>Add Friend
					  </button>
			  		<button 
			  		ng-show="user.areFriends == friend_statuses.friend_request_sent" 
			  		ng-click='checkFriendStatus(user.id)' 
			  		class="btn btn-sm btn-default"
			  		disabled="true"
			  		><span class="hidden">a</span>Friend Request Sent
			  		</button>
			  		<button 
			  		ng-show="user.areFriends == friend_statuses.friend_request_received" 
			  		ng-click='acceptFriendRequest(user.id)' 
			  		class="btn btn-sm btn-primary"><i class="glyphicon glyphicon-ok"></i><span class="hidden">a</span>Accept
			  		</button>
			  		<button 
			  		ng-show="user.areFriends == friend_statuses.friend_request_received" 
			  		ng-click='checkFriendStatus(user.id)' 
			  		class="btn btn-sm btn-default"><i class="glyphicon glyphicon-remove"></i><span class="hidden">a</span>Delete
			  		</button>
			  		<div class="btn-group" dropdown>
				  		<button 
				  		type="button"
				  		ng-show="user.areFriends == friend_statuses.friends" 
				  		class="btn btn-sm btn-default dropdown-toggle"
				  		><i class="glyphicon glyphicon-ok"></i><span class="hidden">a</span>Friends <span class="caret"></span>
				  		</button>
			  			<ul class="dropdown-menu" role="menu">
			  				<li><a href="" ng-click="unFriend(user.id)">Unfriend</a></li>
			  			</ul>
			  		</div>
				  </div>
		  </div>
			</div>
	  </li>
	</ul>
	<pagination total-items="totalItems" items-per-page="pl" page="currentPage" ng-model="yo"></pagination>
</div>